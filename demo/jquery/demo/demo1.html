<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>jquery插件</title>
<link rel="stylesheet" href="../../../css/markdown/base.min.css">
<link rel="stylesheet" href="../../../css/markdown/desert-cmd.css">
<link rel="stylesheet" href="../../../css/markdown/layout.min.css">
</head>
<body>
<div class="md-section-divider"></div>

<div class="md-section-divider"></div>

<h1 id="jquery插件">jquery插件</h1>

<hr>

<div class="md-section-divider"></div>

<h2 id="jquery-api方法介绍">jquery api方法介绍</h2>

<p><span>$</span>.extend 作用：将两个或多个对象的内容合并到第一个对象。 <br>
<span>$</span>.fn.extend 作用：合并对象的内容到jQuery原型提供新的jQuery实例方法。</p>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// $.extend([deep,]target[,object1][,objectN]);</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> obj0 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> obj1 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"张三"</span><span class="pun">,</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        age</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        arr</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">2</span><span class="pun">],</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        obj</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            weight</span><span class="pun">:</span><span class="pln"> </span><span class="lit">52</span><span class="pun">,</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            price</span><span class="pun">:</span><span class="pln"> </span><span class="lit">100</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="pun">};</span></code></li><li class="L1"><code class="language-javascript"></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> obj2 </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"李四"</span><span class="pun">,</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        level</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        arr</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">,</span><span class="lit">3</span><span class="pun">],</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        obj</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            price</span><span class="pun">:</span><span class="pln"> </span><span class="lit">300</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    </span><span class="pun">};</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="kwd">var</span><span class="pln"> rt </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{};</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">rt </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="pln">obj0 </span><span class="pun">,</span><span class="pln"> obj1 </span><span class="pun">,</span><span class="pln"> obj2</span><span class="pun">));</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj0</span><span class="pun">);</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj1</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj2</span><span class="pun">);</span></code></li><li class="L5"><code class="language-javascript"></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="com">// 运行结果</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", age: 10, arr: Array[2], obj: Object, level: 1}</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", age: 10, arr: Array[2], obj: Object, level: 1}</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "张三", age: 10, arr: Array[2], obj: Object}</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", level: 1, arr: Array[2], obj: Object}</span></code></li><li class="L1"><code class="language-javascript"></code></li><li class="L2"><code class="language-javascript"><span class="pln">    </span><span class="com">// rt 与 obj0 是一样的</span></code></li><li class="L3"><code class="language-javascript"></code></li><li class="L4"><code class="language-javascript"><span class="pln">    </span><span class="typ">Object</span><span class="pln"> </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"李四"</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> arr</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> obj</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">,</span><span class="pln"> level</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        age</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        arr</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">        level</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">        name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"李四"</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">        obj</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">            price</span><span class="pun">:</span><span class="pln"> </span><span class="lit">300</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            __proto__</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        __proto__</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// deep:true 深拷贝是对对象的深拷贝</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">$</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> obj0</span><span class="pun">,</span><span class="pln"> obj1 </span><span class="pun">,</span><span class="pln"> obj2</span><span class="pun">));</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj0</span><span class="pun">);</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj1</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">obj2</span><span class="pun">);</span></code></li><li class="L5"><code class="language-javascript"></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", age: 10, arr: Array[2], obj: Object, level: 1}</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", age: 10, arr: Array[2], obj: Object, level: 1}</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "张三", age: 10, arr: Array[2], obj: Object}</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    </span><span class="com">// Object {name: "李四", level: 1, arr: Array[2], obj: Object}</span></code></li><li class="L0"><code class="language-javascript"></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="typ">Object</span><span class="pln"> </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"李四"</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> arr</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> obj</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">,</span><span class="pln"> level</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        age</span><span class="pun">:</span><span class="pln"> </span><span class="lit">10</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        arr</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Array</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        level</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"李四"</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        obj</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            price</span><span class="pun">:</span><span class="pln"> </span><span class="lit">300</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            weight</span><span class="pun">:</span><span class="pln"> </span><span class="lit">52</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">            __proto__</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">        __proto__</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Object</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<h2 id="插件">插件</h2>

<p>html结构</p>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-html"><span class="pln">    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"test"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"按钮"</span><span class="tag">&gt;</span></code></li><li class="L1"><code class="language-html"><span class="pln">    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"按钮"</span><span class="pln"> </span><span class="atn">data-color</span><span class="pun">=</span><span class="atv">"#0f0"</span><span class="tag">&gt;</span></code></li><li class="L2"><code class="language-html"><span class="pln">    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"按钮"</span><span class="pln"> </span><span class="atn">data-color</span><span class="pun">=</span><span class="atv">"#ff0"</span><span class="tag">&gt;</span></code></li><li class="L3"><code class="language-html"><span class="pln">    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"btn"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"按钮"</span><span class="pln"> </span><span class="tag">&gt;</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// $.fn.extend(object)</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="com">// 官方文档提供的例子</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">    jQuery</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        check</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">                $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">css</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#f00"</span><span class="pun">});</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    </span><span class="pun">});</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">    $</span><span class="pun">(</span><span class="str">"#test"</span><span class="pun">).</span><span class="pln">check</span><span class="pun">();</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// 结合闭包</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$</span><span class="pun">){</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        $</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">check </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">                $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">css</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#f00"</span><span class="pun">});</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    </span><span class="pun">})(</span><span class="pln">jQuery</span><span class="pun">);</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">    $</span><span class="pun">(</span><span class="str">"#test"</span><span class="pun">).</span><span class="pln">check</span><span class="pun">();</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// 添加参数，基本结构</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$</span><span class="pun">){</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> boxModel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">opts </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({},</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">elem </span><span class="pun">=</span><span class="pln"> elem</span><span class="pun">;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">        boxModel</span><span class="pun">.</span><span class="pln">prototype </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            init</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> _this </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">                _this</span><span class="pun">.</span><span class="pln">events</span><span class="pun">();</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            </span><span class="pun">},</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            events</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> _this </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">                _this</span><span class="pun">.</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">                    $</span><span class="pun">(</span><span class="str">"body"</span><span class="pun">).</span><span class="pln">css</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="pln"> _this</span><span class="pun">.</span><span class="pln">opts</span><span class="pun">.</span><span class="pln">background</span><span class="pun">});</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">                </span><span class="pun">});</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">        $</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">boxModel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">options</span><span class="pun">){</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">            </span><span class="kwd">var</span><span class="pln"> defaults </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">                background</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#000"</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            </span><span class="pun">};</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">            </span><span class="kwd">new</span><span class="pln"> boxModel</span><span class="pun">(</span><span class="pln">$</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">),</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">    </span><span class="pun">})(</span><span class="pln">jQuery</span><span class="pun">);</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    $</span><span class="pun">(</span><span class="str">"#test"</span><span class="pun">).</span><span class="pln">boxModel</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="str">"#f00"</span><span class="pun">});</span></code></li></ol></pre>

<div class="md-section-divider"></div>

<pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">    </span><span class="com">// 参数的校验和结合each</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">    </span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">$</span><span class="pun">){</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">        </span><span class="kwd">var</span><span class="pln"> boxModel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> defaults</span><span class="pun">,</span><span class="pln"> options</span><span class="pun">){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">opts </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({},</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">elem </span><span class="pun">=</span><span class="pln"> elem</span><span class="pun">;</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">            </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">        boxModel</span><span class="pun">.</span><span class="pln">prototype </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            init</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> _this </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">                _this</span><span class="pun">.</span><span class="pln">events</span><span class="pun">();</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            </span><span class="pun">},</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            events</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> _this </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">                </span><span class="kwd">var</span><span class="pln"> color </span><span class="pun">=</span><span class="pln"> _this</span><span class="pun">.</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">attr</span><span class="pun">(</span><span class="str">"data-color"</span><span class="pun">);</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">                _this</span><span class="pun">.</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">                    </span><span class="kwd">if</span><span class="pun">(!!</span><span class="pln">color</span><span class="pun">){</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">                        _this</span><span class="pun">.</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="pln">color</span><span class="pun">});</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">                    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">                        _this</span><span class="pun">.</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">css</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="pln">_this</span><span class="pun">.</span><span class="pln">opts</span><span class="pun">.</span><span class="pln">background</span><span class="pun">});</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">                </span><span class="pun">});</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">        </span><span class="pun">};</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">        $</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">boxModel </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">options</span><span class="pun">){</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">            </span><span class="kwd">var</span><span class="pln"> defaults </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">                background</span><span class="pun">:</span><span class="pln"> </span><span class="str">"#000"</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">            </span><span class="pun">};</span></code></li><li class="L8"><code class="language-javascript"><span class="pln">            </span><span class="kwd">var</span><span class="pln"> $this </span><span class="pun">=</span><span class="pln"> $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L9"><code class="language-javascript"><span class="pln">            </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">$this</span><span class="pun">.</span><span class="pln">selector</span><span class="pun">){</span></code></li><li class="L0"><code class="language-javascript"><span class="pln">                </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">            $this</span><span class="pun">.</span><span class="pln">each</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">item</span><span class="pun">,</span><span class="pln">index</span><span class="pun">){</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">                </span><span class="kwd">new</span><span class="pln"> boxModel</span><span class="pun">(</span><span class="pln">$</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">),</span><span class="pln">defaults</span><span class="pun">,</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">            </span><span class="pun">});</span></code></li><li class="L5"><code class="language-javascript"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L6"><code class="language-javascript"><span class="pln">    </span><span class="pun">})(</span><span class="pln">jQuery</span><span class="pun">);</span></code></li><li class="L7"><code class="language-javascript"><span class="pln">    $</span><span class="pun">(</span><span class="str">"#test"</span><span class="pun">).</span><span class="pln">boxModel</span><span class="pun">({</span><span class="pln">background</span><span class="pun">:</span><span class="str">"#f00"</span><span class="pun">});</span></code></li></ol></pre>
<div>附：由在线markdown编辑器自动生成，<a href="https://www.zybuluo.com" target="_blank">markdown编辑器</a></div>
</body>
</html>